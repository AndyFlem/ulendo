import{_ as J,f as T}from"./PlotlyChart.vue_vue_type_script_setup_true_lang-BBmSaqu1.js";import{_ as Pe}from"./PresentationPage-DoADE55c.js";import{s as Re}from"./iluteDiurnal-CvQqNkQI.js";import{i as qe}from"./iluteCalmonthly-Bdk6q6rw.js";import{i as Ne}from"./iluteCalmonthlyHours-Bs32aSKl.js";import{w as Ee}from"./unikaDiurnal-ep-acAAw.js";import{u as Le,a as Oe}from"./unikaCalmonthlyHours-DmszoIVZ.js";import{g as ye}from"./group-C6_R01-c.js";import{m as He,s as K}from"./sum-CuEm26RN.js";import{m as ue,a as ge}from"./min-C8X95urT.js";import{q as be}from"./quantile-Ch5jTuSM.js";import{a as k,V as we}from"./VRow-BrB4M6AJ.js";import{I as ne,O as $e,N as Ie,q as m,bv as ke,X as me,a2 as O,_ as xe,r as re,a1 as Je,aZ as Ze,aB as Ve,L as Te,T as fe,aj as je,n as Q,an as Ke,bf as Ue,a3 as pe,aJ as X,a as n,as as _e,at as Xe,bw as Ge,ax as Ye,a5 as Qe,ao as et,b5 as Se,bx as tt,bg as at,U as ot,bh as lt,bi as Ce,F as rt,be as nt,a4 as it,Z as st,c as de,w as f,o as ce,B as h,e as E,bt as F,b9 as v,bu as Z,t as U,l as Me}from"./index-CZ5bQcqU.js";import"./VContainer-Bs4I_bgW.js";const he=Symbol.for("vuetify:v-slider");function ut(t,l,d){const y=d==="vertical",c=l.getBoundingClientRect(),M="touches"in t?t.touches[0]:t;return y?M.clientY-(c.top+c.height/2):M.clientX-(c.left+c.width/2)}function dt(t,l){return"touches"in t&&t.touches.length?t.touches[0][l]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][l]:t[l]}const ct=ne({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...$e(),...Ie({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),mt=t=>{const l=m(()=>parseFloat(t.min)),d=m(()=>parseFloat(t.max)),y=m(()=>+t.step>0?parseFloat(t.step):0),c=m(()=>Math.max(ke(y.value),ke(l.value)));function M(C){if(C=parseFloat(C),y.value<=0)return C;const b=Ve(C,l.value,d.value),x=l.value%y.value,w=Math.round((b-x)/y.value)*y.value+x;return parseFloat(Math.min(w,d.value).toFixed(c.value))}return{min:l,max:d,step:y,decimals:c,roundValue:M}},ft=t=>{let{props:l,steps:d,onSliderStart:y,onSliderMove:c,onSliderEnd:M,getActiveThumb:C}=t;const{isRtl:b}=me(),x=O(l,"reverse"),w=m(()=>l.direction==="vertical"),z=m(()=>w.value!==x.value),{min:s,max:p,step:B,decimals:L,roundValue:q}=d,H=m(()=>parseInt(l.thumbSize,10)),N=m(()=>parseInt(l.tickSize,10)),W=m(()=>parseInt(l.trackSize,10)),D=m(()=>(p.value-s.value)/B.value),$=O(l,"disabled"),P=m(()=>l.error||l.disabled?void 0:l.thumbColor??l.color),r=m(()=>l.error||l.disabled?void 0:l.trackColor??l.color),a=m(()=>l.error||l.disabled?void 0:l.trackFillColor??l.color),e=xe(!1),o=xe(0),i=re(),R=re();function g(u){var ve;const S=l.direction==="vertical",ze=S?"top":"left",Ae=S?"height":"width",Fe=S?"clientY":"clientX",{[ze]:Be,[Ae]:We}=(ve=i.value)==null?void 0:ve.$el.getBoundingClientRect(),De=dt(u,Fe);let se=Math.min(Math.max((De-Be-o.value)/We,0),1)||0;return(S?z.value:z.value!==b.value)&&(se=1-se),q(s.value+se*(p.value-s.value))}const I=u=>{M({value:g(u)}),e.value=!1,o.value=0},j=u=>{R.value=C(u),R.value&&(R.value.focus(),e.value=!0,R.value.contains(u.target)?o.value=ut(u,R.value,l.direction):(o.value=0,c({value:g(u)})),y({value:g(u)}))},A={passive:!0,capture:!0};function G(u){c({value:g(u)})}function te(u){u.stopPropagation(),u.preventDefault(),I(u),window.removeEventListener("mousemove",G,A),window.removeEventListener("mouseup",te)}function ae(u){var S;I(u),window.removeEventListener("touchmove",G,A),(S=u.target)==null||S.removeEventListener("touchend",ae)}function ie(u){var S;j(u),window.addEventListener("touchmove",G,A),(S=u.target)==null||S.addEventListener("touchend",ae,{passive:!1})}function V(u){u.preventDefault(),j(u),window.addEventListener("mousemove",G,A),window.addEventListener("mouseup",te,{passive:!1})}const _=u=>{const S=(u-s.value)/(p.value-s.value)*100;return Ve(isNaN(S)?0:S,0,100)},Y=O(l,"showTicks"),ee=m(()=>Y.value?l.ticks?Array.isArray(l.ticks)?l.ticks.map(u=>({value:u,position:_(u),label:u.toString()})):Object.keys(l.ticks).map(u=>({value:parseFloat(u),position:_(parseFloat(u)),label:l.ticks[u]})):D.value!==1/0?Je(D.value+1).map(u=>{const S=s.value+u*B.value;return{value:S,position:_(S)}}):[]:[]),oe=m(()=>ee.value.some(u=>{let{label:S}=u;return!!S})),le={activeThumbRef:R,color:O(l,"color"),decimals:L,disabled:$,direction:O(l,"direction"),elevation:O(l,"elevation"),hasLabels:oe,isReversed:x,indexFromEnd:z,min:s,max:p,mousePressed:e,numTicks:D,onSliderMousedown:V,onSliderTouchstart:ie,parsedTicks:ee,parseMouseMove:g,position:_,readonly:O(l,"readonly"),rounded:O(l,"rounded"),roundValue:q,showTicks:Y,startOffset:o,step:B,thumbSize:H,thumbColor:P,thumbLabel:O(l,"thumbLabel"),ticks:O(l,"ticks"),tickSize:N,trackColor:r,trackContainerRef:i,trackFillColor:a,trackSize:W,vertical:w};return Ze(he,le),le},pt=ne({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Te()},"VSliderThumb"),ht=fe()({name:"VSliderThumb",directives:{Ripple:je},props:pt(),emits:{"update:modelValue":t=>!0},setup(t,l){let{slots:d,emit:y}=l;const c=Q(he),{isRtl:M,rtlClasses:C}=me();if(!c)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:b,step:x,disabled:w,thumbSize:z,thumbLabel:s,direction:p,isReversed:B,vertical:L,readonly:q,elevation:H,mousePressed:N,decimals:W,indexFromEnd:D}=c,$=m(()=>w.value?void 0:H.value),{elevationClasses:P}=Ke($),{textColorClasses:r,textColorStyles:a}=Ue(b),{pageup:e,pagedown:o,end:i,home:R,left:g,right:I,down:j,up:A}=Qe,G=[e,o,i,R,g,I,j,A],te=m(()=>x.value?[1,2,3]:[1,5,10]);function ae(V,_){if(!G.includes(V.key))return;V.preventDefault();const Y=x.value||.1,ee=(t.max-t.min)/Y;if([g,I,j,A].includes(V.key)){const le=(L.value?[M.value?g:I,B.value?j:A]:D.value!==M.value?[g,A]:[I,A]).includes(V.key)?1:-1,u=V.shiftKey?2:V.ctrlKey?1:0;_=_+le*Y*te.value[u]}else if(V.key===R)_=t.min;else if(V.key===i)_=t.max;else{const oe=V.key===o?1:-1;_=_-oe*Y*(ee>100?ee/10:10)}return Math.max(t.min,Math.min(t.max,_))}function ie(V){const _=ae(V,t.modelValue);_!=null&&y("update:modelValue",_)}return pe(()=>{const V=X(D.value?100-t.position:t.position,"%");return n("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&N.value},t.class,C.value],style:[{"--v-slider-thumb-position":V,"--v-slider-thumb-size":X(z.value)},t.style],role:"slider",tabindex:w.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!q.value,"aria-orientation":p.value,onKeydown:q.value?void 0:ie},[n("div",{class:["v-slider-thumb__surface",r.value,P.value],style:{...a.value}},null),_e(n("div",{class:["v-slider-thumb__ripple",r.value],style:a.value},null),[[Xe("ripple"),t.ripple,null,{circle:!0,center:!0}]]),n(Ge,{origin:"bottom center"},{default:()=>{var _;return[_e(n("div",{class:"v-slider-thumb__label-container"},[n("div",{class:["v-slider-thumb__label"]},[n("div",null,[((_=d["thumb-label"])==null?void 0:_.call(d,{modelValue:t.modelValue}))??t.modelValue.toFixed(x.value?W.value:1)])])]),[[Ye,s.value&&t.focused||s.value==="always"]])]}})])}),{}}}),vt=ne({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Te()},"VSliderTrack"),yt=fe()({name:"VSliderTrack",props:vt(),emits:{},setup(t,l){let{slots:d}=l;const y=Q(he);if(!y)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:c,parsedTicks:M,rounded:C,showTicks:b,tickSize:x,trackColor:w,trackFillColor:z,trackSize:s,vertical:p,min:B,max:L,indexFromEnd:q}=y,{roundedClasses:H}=et(C),{backgroundColorClasses:N,backgroundColorStyles:W}=Se(z),{backgroundColorClasses:D,backgroundColorStyles:$}=Se(w),P=m(()=>`inset-${p.value?"block":"inline"}-${q.value?"end":"start"}`),r=m(()=>p.value?"height":"width"),a=m(()=>({[P.value]:"0%",[r.value]:"100%"})),e=m(()=>t.stop-t.start),o=m(()=>({[P.value]:X(t.start,"%"),[r.value]:X(e.value,"%")})),i=m(()=>b.value?(p.value?M.value.slice().reverse():M.value).map((g,I)=>{var A;const j=g.value!==B.value&&g.value!==L.value?X(g.position,"%"):void 0;return n("div",{key:g.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":g.position>=t.start&&g.position<=t.stop,"v-slider-track__tick--first":g.value===B.value,"v-slider-track__tick--last":g.value===L.value}],style:{[P.value]:j}},[(g.label||d["tick-label"])&&n("div",{class:"v-slider-track__tick-label"},[((A=d["tick-label"])==null?void 0:A.call(d,{tick:g,index:I}))??g.label])])}):[]);return pe(()=>n("div",{class:["v-slider-track",H.value,t.class],style:[{"--v-slider-track-size":X(s.value),"--v-slider-tick-size":X(x.value)},t.style]},[n("div",{class:["v-slider-track__background",D.value,{"v-slider-track__background--opacity":!!c.value||!z.value}],style:{...a.value,...$.value}},null),n("div",{class:["v-slider-track__fill",N.value],style:{...o.value,...W.value}},null),b.value&&n("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":b.value==="always"}]},[i.value])])),{}}}),gt=ne({...tt(),...ct(),...at(),modelValue:{type:[Number,String],default:0}},"VSlider"),bt=fe()({name:"VSlider",props:gt(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,l){let{slots:d,emit:y}=l;const c=re(),{rtlClasses:M}=me(),C=mt(t),b=ot(t,"modelValue",void 0,r=>C.roundValue(r??C.min.value)),{min:x,max:w,mousePressed:z,roundValue:s,onSliderMousedown:p,onSliderTouchstart:B,trackContainerRef:L,position:q,hasLabels:H,readonly:N}=ft({props:t,steps:C,onSliderStart:()=>{y("start",b.value)},onSliderEnd:r=>{let{value:a}=r;const e=s(a);b.value=e,y("end",e)},onSliderMove:r=>{let{value:a}=r;return b.value=s(a)},getActiveThumb:()=>{var r;return(r=c.value)==null?void 0:r.$el}}),{isFocused:W,focus:D,blur:$}=lt(t),P=m(()=>q(b.value));return pe(()=>{const r=Ce.filterProps(t),a=!!(t.label||d.label||d.prepend);return n(Ce,it({class:["v-slider",{"v-slider--has-labels":!!d["tick-label"]||H.value,"v-slider--focused":W.value,"v-slider--pressed":z.value,"v-slider--disabled":t.disabled},M.value,t.class],style:t.style},r,{focused:W.value}),{...d,prepend:a?e=>{var o,i;return n(rt,null,[((o=d.label)==null?void 0:o.call(d,e))??(t.label?n(nt,{id:e.id.value,class:"v-slider__label",text:t.label},null):void 0),(i=d.prepend)==null?void 0:i.call(d,e)])}:void 0,default:e=>{let{id:o,messagesId:i}=e;return n("div",{class:"v-slider__container",onMousedown:N.value?void 0:p,onTouchstartPassive:N.value?void 0:B},[n("input",{id:o.value,name:t.name||o.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:b.value},null),n(yt,{ref:L,start:0,stop:P.value},{"tick-label":d["tick-label"]}),n(ht,{ref:c,"aria-describedby":i.value,focused:W.value,min:x.value,max:w.value,modelValue:b.value,"onUpdate:modelValue":R=>b.value=R,position:P.value,elevation:t.elevation,onFocus:D,onBlur:$,ripple:t.ripple,name:t.name},{"thumb-label":d["thumb-label"]})])}})}),{}}}),Dt={__name:"ZambiaWindSolarStorageFirmDiurnal",setup(t){const{smAndUp:l}=st(),d=Q("font"),y=Q("months"),c=Q("colors"),M=Q("makeTrans"),C=ye(Ne,r=>r.month).map(r=>r[1]),b=ye(Le,r=>r.month).map(r=>r[1]),x=[31,28,31,30,31,30,31,31,30,31,30,31],w=re(39),z=m(()=>w.value/99),s=(()=>{let r=100,a=[...Array(r).keys()].map(e=>({ratio:1/(r-1)*e}));return a.map(e=>(e.combined_cfs=[...Array(12).keys()].map(o=>[...Array(24).keys()].map(i=>(C[o][i].meanHourlyCapFactor*e.ratio+b[o][i].meanHourlyCapFactor)/(1+e.ratio))),e.monthly_av_cfs=[...Array(12).keys()].map(o=>He(e.combined_cfs[o])),e.monthly_max_cfs=[...Array(12).keys()].map(o=>ue(e.combined_cfs[o])),e.monthly_p75_cfs=[...Array(12).keys()].map(o=>be(e.combined_cfs[o],.75)),e.monthly_p90_cfs=[...Array(12).keys()].map(o=>be(e.combined_cfs[o],.9)),e.monthly_store=[...Array(12).keys()].map(o=>K(e.combined_cfs[o].map(i=>i>e.monthly_av_cfs[o]?i-e.monthly_av_cfs[o]:0))),e.monthly_store_tomax=[...Array(12).keys()].map(o=>K(e.combined_cfs[o].map(i=>e.monthly_max_cfs[o]-i))),e.monthly_store_top75=[...Array(12).keys()].map(o=>K(e.combined_cfs[o].map(i=>i<e.monthly_p75_cfs[o]?e.monthly_p75_cfs[o]-i:0))),e.monthly_store_top90=[...Array(12).keys()].map(o=>K(e.combined_cfs[o].map(i=>i<e.monthly_p90_cfs[o]?e.monthly_p90_cfs[o]-i:0))),e.store_hours=[...Array(12).keys()].map(o=>e.combined_cfs[o].filter(i=>i>e.monthly_av_cfs[o]).length),e.store_max=ue(e.monthly_store),e.store_range=ue(e.monthly_store)-ge(e.monthly_store),e.annual_store_tomean_total=K(e.monthly_store.map((o,i)=>o*x[i])),e.annual_store_tomax_total=K(e.monthly_store_tomax.map((o,i)=>o*x[i])),e.annual_store_top75_total=K(e.monthly_store_top75.map((o,i)=>o*x[i])),e.annual_store_top90_total=K(e.monthly_store_top90.map((o,i)=>o*x[i])),e)),a})(),p=s.filter(r=>r.store_max==ge(s.map(a=>a.store_max)))[0],B=m(()=>{var r=[{y:Ee.map(e=>e.meanCapFactor),x:[...Array(24).keys()].map(e=>e+1),name:"Wind",mode:"lines",line:{shape:"spline",width:2.5,color:c.wind[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"},{y:Re.map(e=>e.meanCapFactor),x:[...Array(24).keys()].map(e=>e+1),name:"Solar",mode:"lines",line:{shape:"spline",width:2.5,color:c.solar[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"}],a={height:230,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:80,r:5,b:30,t:0},xaxis:{showgrid:!1,zeroline:!1,ticks:"outside",dtick:2},yaxis:{title:"Average hourly <br>output",showgrid:!0,zeroline:!1,tickformat:",.0%",ticks:"outside",range:[-.02,1.05],dtick:.2}};return{data:r,layout:a,config:{displayModeBar:!1}}}),L=m(()=>{var r=[{y:Oe.map(e=>e.meanDailyCapFactor),x:[...Array(12).keys()].map(e=>e+1),name:"Wind",mode:"lines",line:{shape:"spline",width:2.5,color:c.wind[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"},{y:qe.map(e=>e.meanDailyCapFactor),x:[...Array(12).keys()].map(e=>e+1),name:"Solar",mode:"lines",line:{shape:"spline",width:2.5,color:c.solar[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"}],a={height:230,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:80,r:5,b:30,t:0},xaxis:{tickvals:[1,2,3,4,5,6,7,8,9,10,11,12],ticktext:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showgrid:!1,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Average daily <br>output",showgrid:!0,zeroline:!1,tickformat:",.0%",ticks:"outside",dtick:.2}};return{data:r,layout:a,config:{displayModeBar:!1}}}),q=m(()=>{var r=b.map((e,o)=>({y:e.map(i=>i.meanHourlyCapFactor),x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:c.wind[o],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!1,name:"Wind "+y[o]}));r=r.concat(C.map((e,o)=>({y:e.map(i=>i.meanHourlyCapFactor),x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:c.solar[o],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!1,name:"Solar "+y[o]})));var a={height:290,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:70,r:5,b:45,t:0},xaxis:{title:"Hour",showgrid:!0,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Output",showgrid:!0,zeroline:!1,tickformat:"0%",ticks:"outside"}};return{data:r,layout:a,config:{displayModeBar:!1}}}),H=m(()=>{var r=[{y:s[10].combined_cfs[5],x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:c.combined[1],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:`${T(".2f")(s[10].ratio)}MW solar per MW wind`},{y:p.combined_cfs[5],x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:c.combined[4],width:4},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:`${T(".2f")(p.ratio)}MW solar per MW wind`},{y:s[90].combined_cfs[5],x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:c.combined[10],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:`${T(".2f")(s[90].ratio)}MW solar per MW wind`}],a={height:270,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:70,r:5,b:45,t:0},xaxis:{title:"Hour",showgrid:!0,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Output",showgrid:!0,zeroline:!1,tickformat:"0%",ticks:"outside",range:[0,1]}};return{data:r,layout:a,config:{displayModeBar:!1}}}),N=m(()=>{var r=s[w.value].combined_cfs,a=r.map((o,i)=>({y:o,x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:c.combined[i],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:y[i]})),e={height:270,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:70,r:5,b:45,t:0},xaxis:{title:"Hour",showgrid:!0,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Output",showgrid:!0,zeroline:!1,tickformat:".0%",ticks:"outside",range:[0,1]}};return{data:a,layout:e,config:{displayModeBar:!1}}}),W=m(()=>{var r=s[w.value],a=[{x:[...Array(12).keys()].map(o=>o+1),y:r.monthly_store,name:"",text:r.monthly_store.map(o=>T(".2f")(o)),type:"bar",mode:"markers+text",hoverinfo:"none",stackgroup:"one",showlegend:!1,marker:{color:M(c.combined[5],.6)},textposition:"inside"}],e={height:270,font:d,hovermode:"closest",barmode:"stack",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:50,r:5,b:30,t:0},xaxis:{tickvals:[1,2,3,4,5,6,7,8,9,10,11,12],ticktext:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showgrid:!1,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Hours",dtick:.2,showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside",range:[0,1.75]}};return{data:a,layout:e,config:{displayModeBar:!1}}}),D=m(()=>{var r=[{y:s.map(e=>e.store_range),x:s.map(e=>e.ratio),mode:"lines",textposition:"top",line:{shape:"spline",color:c.storage[2],width:4},marker:{size:5},type:"scatter",showlegend:!1,name:""}];r=r.concat([{y:[p.store_range],x:[p.ratio],text:[T(".2f")(p.ratio)],name:"Optimum ratio",textposition:"top-center",showlegend:!1,mode:"markers+text",type:"scatter",hoverinfo:"none",marker:{size:15,color:"black"}}]);var a={height:220,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:50,r:5,b:45,t:0},xaxis:{title:"Ratio solar : wind capacity",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"},yaxis:{title:"Range, Hours",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"}};return{data:r,layout:a,config:{displayModeBar:!1}}}),$=m(()=>{var r=[...Array(12).keys()].map(e=>({y:s.map(o=>o.monthly_store[e]),x:s.map(o=>o.ratio),mode:"lines",line:{shape:"spline",color:c.storage[e],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!1,name:y[e]}));r=r.concat([{y:s.map(e=>e.store_max),x:s.map(e=>e.ratio),text:s.map(e=>T(".2f")(e.store_max)),name:"Storage requirement",mode:"lines",type:"scatter",hoverinfo:"x+text",line:{shape:"spline",width:2.5,color:"red"}}]),r=r.concat([{y:[p.store_max],x:[p.ratio],text:[T(".2f")(p.ratio)+","+T(".1f")(p.store_max)],name:"Optimum ratio",textposition:"top-center",showlegend:!1,mode:"markers+text",type:"scatter",hoverinfo:"none",marker:{size:15,color:"black"}}]),r=r.concat([{x:[s[w.value].ratio,s[w.value].ratio],y:[0,2.2],showlegend:!1,mode:"lines",line:{width:1,color:"#555"}}]);var a={height:270,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:50,r:5,b:50,t:0},xaxis:{title:"Ratio solar : wind capacity",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"},yaxis:{title:"Hours",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"}};return{data:r,layout:a,config:{displayModeBar:!1}}}),P=m(()=>{var r=[{y:s.map(e=>e.annual_store_tomean_total/1e3),x:s.map(e=>e.ratio),mode:"lines",textposition:"top",line:{shape:"spline",color:c.storage[7],width:3},marker:{size:5},type:"scatter",showlegend:!0,name:"To mean"},{y:s.map(e=>e.annual_store_top75_total/1e3),x:s.map(e=>e.ratio),mode:"lines",textposition:"top",line:{shape:"spline",color:c.storage[5],width:3},marker:{size:5},type:"scatter",showlegend:!0,name:"To P75"},{y:s.map(e=>e.annual_store_top90_total/1e3),x:s.map(e=>e.ratio),mode:"lines",textposition:"top",line:{shape:"spline",color:c.storage[3],width:2},marker:{size:5},type:"scatter",showlegend:!0,name:"To P90"},{y:s.map(e=>e.annual_store_tomax_total/1e3),x:s.map(e=>e.ratio),mode:"lines",textposition:"top",line:{shape:"spline",color:c.storage[1],width:2},marker:{size:5},type:"scatter",showlegend:!0,name:"To max"}],a={height:250,font:d,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:70,r:5,b:45,t:0},xaxis:{title:"Ratio solar : wind capacity",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"},yaxis:{title:"Energy GWh/MW/year",showgrid:!0,zeroline:!1,tickformat:".2f",ticks:"outside"}};return{data:r,layout:a,config:{displayModeBar:!1}}});return(r,a)=>(ce(),de(Pe,null,{default:f(()=>[n(we,{class:F(v(l)?"pa-5":"ma-0 pa-0")},{default:f(()=>[n(k,{cols:"12"},{default:f(()=>a[1]||(a[1]=[h("h1",null,"Diurnal firm power from Wind and Solar with Storage in Zambia",-1),E(" Solar PV and to a lesser extent wind power both exhibit a strong diurnal production profile. Solar PV has zero output during the night and conversely wind speeds are, on average, higher during the night. This makes the combination of wind and solar with storage a very attractive option for providing firm power. "),h("br",null,null,-1),h("br",null,null,-1),E(" Considering battery storage or grid energy to firm the output of a combined wind and solar plant, the optimum ratio of solar PV to wind capacity in Zambia is found to be around 0.4 to 0.5 MW of solar per MW of wind capacity. ")])),_:1}),n(k,{class:F(v(l)?"":"px-0"),cols:"12",md:"6"},{default:f(()=>[n(Z,{class:F(v(l)?"border mr-2 pr-2":"border ma-0 pa-0")},{default:f(()=>[n(J,{definition:B.value},null,8,["definition"]),a[2]||(a[2]=h("figcaption",null,"Average hourly output for wind and solar in Zambia.",-1))]),_:1},8,["class"])]),_:1},8,["class"]),n(k,{class:F(v(l)?"":"px-0"),cols:"12",md:"6"},{default:f(()=>[n(Z,{class:F(v(l)?"border ml-2 pl-2":"border ma-0 pa-0")},{default:f(()=>[n(J,{definition:L.value},null,8,["definition"]),a[3]||(a[3]=h("figcaption",null,"Average monthly output for wind and solar in Zambia.",-1))]),_:1},8,["class"])]),_:1},8,["class"]),n(k,{class:F(v(l)?"":"px-0"),cols:"12",sm:"12",md:"9"},{default:f(()=>[n(Z,{class:"border ma-0 pa-0"},{default:f(()=>[n(J,{definition:q.value},null,8,["definition"]),a[4]||(a[4]=h("figcaption",null,"Average hourly output by month for wind (blues) and solar (yellows).",-1))]),_:1})]),_:1},8,["class"]),n(k,{cols:"12"},{default:f(()=>a[5]||(a[5]=[E(" Because of these complimentary daily production profiles, combining the output of the two plants produces a much smoother diurnal power profile. Due to the seasonal nature of the output of the wind plant the effect of mixing the output of the two projects changes through the year. ")])),_:1}),n(k,{class:F(v(l)?"":"px-0"),cols:"12",sm:"12",md:"9"},{default:f(()=>[n(Z,{class:"border ma-0 pa-0"},{default:f(()=>[n(J,{definition:H.value},null,8,["definition"]),a[6]||(a[6]=h("figcaption",null,"Average output in June for a combined plant with various proportions of wind and solar capacity.",-1))]),_:1})]),_:1},8,["class"]),n(k,{cols:"12"},{default:f(()=>a[7]||(a[7]=[E(" The shape of the daily production profiles for the combined plant depend on the proportion of capacity provided by the two plants. The daily production profile for the combined plants will never be entirely flat. ")])),_:1}),n(k,{cols:"12"},{default:f(()=>[n(we,{class:"no-gutters"},{default:f(()=>[n(k,{cols:"12",sm:"3",md:"2"},{default:f(()=>a[8]||(a[8]=[h("span",{class:"text-body-1"},[h("b",null,"Solar to wind capacity ratio: ")],-1)])),_:1}),n(k,{cols:"12",sm:"6",md:"4"},{default:f(()=>[n(bt,{modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value=e),max:99,min:0,step:1,class:"align-center","hide-details":""},{append:f(()=>[h("span",null,[h("b",null,U(v(T)(".2f")(z.value)),1),a[9]||(a[9]=E(" MW Solar PV : MW Wind"))])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(k,{cols:"12"},{default:f(()=>a[10]||(a[10]=[E(" To produce completely consistent output, intraday storage capacity needs to be added to the system. This could be in the form of batteries or using hydro power reservoirs. The storage need not be co-located with either the wind or solar plants and if it was provided by hydro reservoirs then it almost certainly would not be. However, there would be beneftis for co-locating storage with either the wind or solar plants (or both) including shared O&M resources, grid access and reduced transmission losses and costs. ")])),_:1}),n(k,{class:F(v(l)?"":"px-0"),cols:"12",md:"6"},{default:f(()=>[n(Z,{class:F(v(l)?"border mr-2 pr-2":"border ma-0 pa-0")},{default:f(()=>[N.value?(ce(),de(J,{key:0,definition:N.value},null,8,["definition"])):Me("",!0),h("figcaption",null," Diurnal output by month for a combined plant with "+U(v(T)(".2f")(z.value))+"MW solar per MW wind. ",1)]),_:1},8,["class"])]),_:1},8,["class"]),n(k,{class:F(v(l)?"":"px-0"),cols:"12",md:"6"},{default:f(()=>[n(Z,{class:"border ma-0 pa-0"},{default:f(()=>[W.value?(ce(),de(J,{key:0,definition:W.value},null,8,["definition"])):Me("",!0),h("figcaption",null," Daily storage required in hours by month to entirely flatten the average diurnal output of a combined plant with "+U(v(T)(".2f")(z.value))+"MW solar per MW wind. ",1)]),_:1})]),_:1},8,["class"]),n(k,{cols:"12"},{default:f(()=>a[11]||(a[11]=[E(" The amount of storage required to completely flatten the daily output of the combined plant depends on the relative proportion of capacity of the wind and solar plants and the month. ")])),_:1}),n(k,{cols:"12"},{default:f(()=>[a[12]||(a[12]=h("u",null,"Balancing with Battery Storage",-1)),a[13]||(a[13]=h("br",null,null,-1)),a[14]||(a[14]=h("br",null,null,-1)),a[15]||(a[15]=E(" To entirely flatten the dirunal output in every month using batteries (BESS) the storage capacity must be sized for the month with the greatest storage requirement. For plant capacity ratios with a high range in monthly storage requirement (between the month with the highest storage requirement and the month with the lowest) the storage will either be insufficient in some months or underutilised in some months. Both situations lead to inefficieny. ")),a[16]||(a[16]=h("br",null,null,-1)),a[17]||(a[17]=h("br",null,null,-1)),E(" The ratio of solar capacity to wind capacity that minimises the relative storage requirement (in hours) can be determined by plotting the storage required to completely flatten the diurnal output of the combined plant for a range of capacity ratios for each month. For Zambian wind and solar plants this shows that "+U(v(T)(".2f")(v(p).ratio))+"MW of solar per MW of wind capacity minimises the battery storage requirement at "+U(v(T)(".1f")(v(p).store_max))+" hours to flatten the average diurnal output. ",1)]),_:1}),n(k,{class:F(v(l)?"":"px-0"),cols:"12",sm:"9",md:"6"},{default:f(()=>[n(Z,{class:"border ma-0 pa-0"},{default:f(()=>[n(J,{definition:D.value},null,8,["definition"]),a[18]||(a[18]=h("figcaption",null,"Range (maximum month to minimum month) of battery storage required to flatten the diurnal output of the combined plant by ratio of solar to wind capacity.",-1))]),_:1})]),_:1},8,["class"]),n(k,{class:F(v(l)?"":"px-0"),cols:"12",sm:"9",md:"6"},{default:f(()=>[n(Z,{class:"border ma-0 pa-0"},{default:f(()=>[n(J,{definition:$.value},null,8,["definition"]),h("figcaption",null,"Daily battery storage requirement by month and ratio of solar to wind capacity to flatten the diurnal for a combined plant. Maximum storage requirement for the year in red. Optimum ratio is "+U(v(T)(".2f")(v(p).ratio))+"MW solar per MW wind with "+U(v(T)(".1f")(v(p).store_max))+" hours of storage.",1)]),_:1})]),_:1},8,["class"]),n(k,{cols:"12"},{default:f(()=>a[19]||(a[19]=[h("u",null,"Balancing with Grid",-1),h("br",null,null,-1),h("br",null,null,-1),E(" The optimum ratio of solar PV to wind capacity can also be considered with respect to the total energy required from the grid to flatten the diurnal output of the combined plant. The optimum ration varies depending on the level of firming required. Firming all the way up to the mean maximum daily energy in each month requires the most imported energy and also favours plant combinations with less solar capacity. "),h("br",null,null,-1),h("br",null,null,-1),E(" The optimum ratio of solar to wind capacity for the combined plant that minimises the total energy required from the grid in the case of a more realistic scenario of firming the diurnal output each day to the 75th percentile of the daily output is between 0.4 and 0.5 MW of solar per MW of wind capacity, similar to the optimum ratio for BESS backed firming. ")])),_:1}),n(k,{class:F(v(l)?"":"px-0"),cols:"12",sm:"9",md:"6"},{default:f(()=>[n(Z,{class:"border ma-0 pa-0"},{default:f(()=>[n(J,{definition:P.value},null,8,["definition"]),a[20]||(a[20]=h("figcaption",null,"Annual balancing energy required per MW of capacity to firm up diurnal output of a combined plant for the given ratio of solar to wind capacity.",-1))]),_:1})]),_:1},8,["class"])]),_:1},8,["class"])]),_:1}))}};export{Dt as default};
