import{I,J as R,af as ye,L as le,M as he,R as oe,T as B,U as w,bc as G,q as V,aZ as ke,aA as Ce,$ as pe,a2 as k,a3 as E,a as s,aj as xe,_ as W,r as D,bd as ne,a4 as C,as as Se,at as Ie,F as j,C as _e,be as Pe,n as re,am as we,aQ as T,bf as Be,b5 as se,aY as Ee,a6 as ue,aL as ie,bg as Ue,bh as Ae,bi as z,bj as Fe,aO as Le,bk as Te,ab as De,ac as J,bl as Y,aw as Oe,aW as $e,ae as Re,aD as je,N as Ge,aF as Ne,an as qe,Y as Me,W as We,E as ze,s as H,G as Je,w as y,o as S,c as _,A as Ye,e as Q,f as He,t as Qe,l as $,g as U,v as Ze,i as Ke,j as Xe,k as Z,V as ea}from"./index-CZ5bQcqU.js";import{a as aa,V as ta}from"./VForm-BFGmEihh.js";import{V as K,a as P}from"./VRow-BrB4M6AJ.js";const de=Symbol.for("vuetify:selection-control-group"),ce=I({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:R,trueIcon:R,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:ye},...le(),...he(),...oe()},"SelectionControlGroup"),la=I({...ce({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");B()({name:"VSelectionControlGroup",props:la(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:n}=i;const o=w(e,"modelValue"),r=G(),b=V(()=>e.id||`v-selection-control-group-${r}`),u=V(()=>e.name||b.value),d=new Set;return ke(de,{modelValue:o,forceUpdate:()=>{d.forEach(a=>a())},onForceUpdate:a=>{d.add(a),Ce(()=>{d.delete(a)})}}),pe({[e.defaultsTarget]:{color:k(e,"color"),disabled:k(e,"disabled"),density:k(e,"density"),error:k(e,"error"),inline:k(e,"inline"),modelValue:o,multiple:V(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),name:u,falseIcon:k(e,"falseIcon"),trueIcon:k(e,"trueIcon"),readonly:k(e,"readonly"),ripple:k(e,"ripple"),type:k(e,"type"),valueComparator:k(e,"valueComparator")}}),E(()=>{var a;return s("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(a=n.default)==null?void 0:a.call(n)])}),{}}});const me=I({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...le(),...ce()},"VSelectionControl");function oa(e){const i=re(de,void 0),{densityClasses:n}=we(e),o=w(e,"modelValue"),r=V(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),b=V(()=>e.falseValue!==void 0?e.falseValue:!1),u=V(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),d=V({get(){const t=i?i.modelValue.value:o.value;return u.value?T(t).some(l=>e.valueComparator(l,r.value)):e.valueComparator(t,r.value)},set(t){if(e.readonly)return;const l=t?r.value:b.value;let v=l;u.value&&(v=t?[...T(o.value),l]:T(o.value).filter(g=>!e.valueComparator(g,r.value))),i?i.modelValue.value=v:o.value=v}}),{textColorClasses:a,textColorStyles:h}=Be(V(()=>{if(!(e.error||e.disabled))return d.value?e.color:e.baseColor})),{backgroundColorClasses:m,backgroundColorStyles:f}=se(V(()=>d.value&&!e.error&&!e.disabled?e.color:e.baseColor)),c=V(()=>d.value?e.trueIcon:e.falseIcon);return{group:i,densityClasses:n,trueValue:r,falseValue:b,model:d,textColorClasses:a,textColorStyles:h,backgroundColorClasses:m,backgroundColorStyles:f,icon:c}}const X=B()({name:"VSelectionControl",directives:{Ripple:xe},inheritAttrs:!1,props:me(),emits:{"update:modelValue":e=>!0},setup(e,i){let{attrs:n,slots:o}=i;const{group:r,densityClasses:b,icon:u,model:d,textColorClasses:a,textColorStyles:h,backgroundColorClasses:m,backgroundColorStyles:f,trueValue:c}=oa(e),t=G(),l=W(!1),v=W(!1),g=D(),p=V(()=>e.id||`input-${t}`),A=V(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{g.value&&(g.value.checked=d.value)});function F(x){A.value&&(l.value=!0,Ee(x.target,":focus-visible")!==!1&&(v.value=!0))}function L(){l.value=!1,v.value=!1}function fe(x){x.stopPropagation()}function be(x){if(!A.value){g.value&&(g.value.checked=d.value);return}e.readonly&&r&&ue(()=>r.forceUpdate()),d.value=x.target.checked}return E(()=>{var q,M;const x=o.label?o.label({label:e.label,props:{for:p.value}}):e.label,[ge,Ve]=ne(n),N=s("input",C({ref:g,checked:d.value,disabled:!!e.disabled,id:p.value,onBlur:L,onFocus:F,onInput:be,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:c.value,name:e.name,"aria-checked":e.type==="checkbox"?d.value:void 0},Ve),null);return s("div",C({class:["v-selection-control",{"v-selection-control--dirty":d.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":l.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},b.value,e.class]},ge,{style:e.style}),[s("div",{class:["v-selection-control__wrapper",a.value],style:h.value},[(q=o.default)==null?void 0:q.call(o,{backgroundColorClasses:m,backgroundColorStyles:f}),Se(s("div",{class:["v-selection-control__input"]},[((M=o.input)==null?void 0:M.call(o,{model:d,textColorClasses:a,textColorStyles:h,backgroundColorClasses:m,backgroundColorStyles:f,inputNode:N,icon:u.value,props:{onFocus:F,onBlur:L,id:p.value}}))??s(j,null,[u.value&&s(_e,{key:"icon",icon:u.value},null),N])]),[[Ie("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&s(Pe,{for:p.value,onClick:fe},{default:()=>[x]})])}),{isFocused:l,input:g}}}),ve=I({indeterminate:Boolean,indeterminateIcon:{type:R,default:"$checkboxIndeterminate"},...me({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ee=B()({name:"VCheckboxBtn",props:ve(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,i){let{slots:n}=i;const o=w(e,"indeterminate"),r=w(e,"modelValue");function b(a){o.value&&(o.value=!1)}const u=V(()=>o.value?e.indeterminateIcon:e.falseIcon),d=V(()=>o.value?e.indeterminateIcon:e.trueIcon);return E(()=>{const a=ie(X.filterProps(e),["modelValue"]);return s(X,C(a,{modelValue:r.value,"onUpdate:modelValue":[h=>r.value=h,b],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:u.value,trueIcon:d.value,"aria-checked":o.value?"mixed":void 0}),n)}),{}}}),na=I({...Ue(),...ie(ve(),["inline"])},"VCheckbox"),ra=B()({name:"VCheckbox",inheritAttrs:!1,props:na(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,i){let{attrs:n,slots:o}=i;const r=w(e,"modelValue"),{isFocused:b,focus:u,blur:d}=Ae(e),a=G(),h=V(()=>e.id||`checkbox-${a}`);return E(()=>{const[m,f]=ne(n),c=z.filterProps(e),t=ee.filterProps(e);return s(z,C({class:["v-checkbox",e.class]},m,c,{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,id:h.value,focused:b.value,style:e.style}),{...o,default:l=>{let{id:v,messagesId:g,isDisabled:p,isReadonly:A,isValid:F}=l;return s(ee,C(t,{id:v.value,"aria-describedby":g.value,disabled:p.value,readonly:A.value},f,{error:F.value===!1,modelValue:r.value,"onUpdate:modelValue":L=>r.value=L,onFocus:u,onBlur:d}),o)}})}),{}}}),sa=I({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Fe({origin:"center center",scrollStrategy:"block",transition:{component:Le},zIndex:2400})},"VDialog"),ua=B()({name:"VDialog",props:sa(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,i){let{emit:n,slots:o}=i;const r=w(e,"modelValue"),{scopeId:b}=Te(),u=D();function d(m){var t,l;const f=m.relatedTarget,c=m.target;if(f!==c&&((t=u.value)!=null&&t.contentEl)&&((l=u.value)!=null&&l.globalTop)&&![document,u.value.contentEl].includes(c)&&!u.value.contentEl.contains(c)){const v=Re(u.value.contentEl);if(!v.length)return;const g=v[0],p=v[v.length-1];f===g?p.focus():g.focus()}}De&&J(()=>r.value&&e.retainFocus,m=>{m?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0});function a(){var m;n("afterEnter"),(m=u.value)!=null&&m.contentEl&&!u.value.contentEl.contains(document.activeElement)&&u.value.contentEl.focus({preventScroll:!0})}function h(){n("afterLeave")}return J(r,async m=>{var f;m||(await ue(),(f=u.value.activatorEl)==null||f.focus({preventScroll:!0}))}),E(()=>{const m=Y.filterProps(e),f=C({"aria-haspopup":"dialog"},e.activatorProps),c=C({tabindex:-1},e.contentProps);return s(Y,C({ref:u,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},m,{modelValue:r.value,"onUpdate:modelValue":t=>r.value=t,"aria-modal":"true",activatorProps:f,contentProps:c,role:"dialog",onAfterEnter:a,onAfterLeave:h},b),{activator:o.activator,default:function(){for(var t=arguments.length,l=new Array(t),v=0;v<t;v++)l[v]=arguments[v];return s(Oe,{root:"VDialog"},{default:()=>{var g;return[(g=o.default)==null?void 0:g.call(o,...l)]}})}})}),$e({},u)}}),ia={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function da(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return s("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[i])}function ae(e){const[i,n]=e.split("@");return Array.from({length:n}).map(()=>O(i))}function O(e){let i=[];if(!e)return i;const n=ia[e];if(e!==n){if(e.includes(","))return te(e);if(e.includes("@"))return ae(e);n.includes(",")?i=te(n):n.includes("@")?i=ae(n):n&&i.push(O(n))}return[da(e,i)]}function te(e){return e.replace(/\s/g,"").split(",").map(O)}const ca=I({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...je(),...Ge(),...oe()},"VSkeletonLoader"),ma=B()({name:"VSkeletonLoader",props:ca(),setup(e,i){let{slots:n}=i;const{backgroundColorClasses:o,backgroundColorStyles:r}=se(k(e,"color")),{dimensionStyles:b}=Ne(e),{elevationClasses:u}=qe(e),{themeClasses:d}=Me(e),{t:a}=We(),h=V(()=>O(T(e.type).join(",")));return E(()=>{var c;const m=!n.default||e.loading,f=e.boilerplate||!m?{}:{ariaLive:"polite",ariaLabel:a(e.loadingText),role:"alert"};return s("div",C({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},d.value,o.value,u.value],style:[r.value,m?b.value:{}]},f),[m?h.value:(c=n.default)==null?void 0:c.call(n)])}),{}}}),va={__name:"UserForm",props:{userId:Number},emits:["userCreated","userUpdated"],setup(e,{emit:i}){const n=re("axiosSecure"),o=i,r=e,b=D(),u=D(!1),d={user_id:null,first_name:null,last_name:null,email:null,password:null,organisation:null,can_login:!1},a=ze({user:{...d},groups:null,alert:{show:!1,message:null,type:null}});async function h(){const{valid:c}=await b.value.validate();c&&(a.user.groups=a.groups.filter(t=>t.checked),r.userId?n.put(`/user/${r.userId}`,a.user).then(()=>{a.user.user_name=a.user.first_name+" "+a.user.last_name,o("userUpdated",a.user),f()}).catch(t=>{a.alert.show=!0,a.alert.message=t.message,a.alert.type="error"}):n.post("/user",a.user).then(t=>{console.log(t.data),a.userId=t.data.user_id,a.user.user_id=t.data.user_id,a.user.user_name=a.user.first_name+" "+a.user.last_name,o("userCreated",a.user),f()}).catch(t=>{a.alert.show=!0,a.alert.message=t.message,a.alert.type="error"}))}function m(){r.userId?n.get("/user/"+r.userId).then(c=>(a.user=c.data,n.get("/groups"))).then(c=>{c.data.forEach(t=>{t.checked=a.user.groups.includes(t.usergroup_ref)}),a.groups=c.data}):n.get("/groups").then(c=>{a.groups=c.data}),u.value=!0}function f(){u.value=!1,a.alert.show=!1,a.user={...d}}return(c,t)=>(S(),H(j,null,[Je(c.$slots,"activator",{activate:m}),s(ua,{modelValue:u.value,"onUpdate:modelValue":t[5]||(t[5]=l=>u.value=l),persistent:"","max-width":"600px"},{default:y(()=>[r.userId&&!a.user.user_id?(S(),_(ma,{key:0,class:"mx-auto","max-width":"600px",width:"100%",type:"card, actions"})):(S(),_(ea,{key:1},{default:y(()=>[s(Ye,{class:"bg-primary mb-5"},{default:y(()=>t[6]||(t[6]=[Q(" User ")])),_:1}),s(He,null,{default:y(()=>[a.alert.show?(S(),_(aa,{key:0,type:a.alert.type},{default:y(()=>[Q(Qe(a.alert.message),1)]),_:1},8,["type"])):$("",!0),s(ta,{ref_key:"form",ref:b},{default:y(()=>[s(K,{"no-gutters":""},{default:y(()=>[s(P,{cols:"6"},{default:y(()=>[s(U,{label:"First name*",density:"compact",modelValue:a.user.first_name,"onUpdate:modelValue":t[0]||(t[0]=l=>a.user.first_name=l),placeholder:"James",variant:"outlined",rules:[l=>!!l||"First name is required"]},null,8,["modelValue","rules"])]),_:1}),s(P,{cols:"6"},{default:y(()=>[s(U,{label:"Last name*",density:"compact",modelValue:a.user.last_name,"onUpdate:modelValue":t[1]||(t[1]=l=>a.user.last_name=l),placeholder:"Smith",variant:"outlined",rules:[l=>!!l||"Last name is required"]},null,8,["modelValue","rules"])]),_:1}),s(P,{cols:"12"},{default:y(()=>[s(U,{label:"Email address*",density:"compact",modelValue:a.user.email,"onUpdate:modelValue":t[2]||(t[2]=l=>a.user.email=l),placeholder:"james@smith.com",variant:"outlined",rules:[l=>!!l||"Email is required"]},null,8,["modelValue","rules"])]),_:1}),s(P,{cols:"12"},{default:y(()=>[s(U,{label:"Organisation",density:"compact",modelValue:a.user.organisation,"onUpdate:modelValue":t[3]||(t[3]=l=>a.user.organisation=l),placeholder:"The Organisation",variant:"outlined"},null,8,["modelValue"])]),_:1}),r.userId?$("",!0):(S(),_(P,{key:0,cols:"12"},{default:y(()=>[s(U,{label:"Password",density:"compact",modelValue:a.user.password,"onUpdate:modelValue":t[4]||(t[4]=l=>a.user.password=l),type:"password",variant:"outlined"},null,8,["modelValue"])]),_:1}))]),_:1}),a.groups?(S(),_(K,{key:0,"no-gutters":""},{default:y(()=>[(S(!0),H(j,null,Ze(a.groups,l=>(S(),_(P,{class:"py-0 my-0",key:l.group_ref,cols:"12"},{default:y(()=>[s(ra,{label:l.usergroup_name,modelValue:l.checked,"onUpdate:modelValue":v=>l.checked=v,density:"compact",class:"py-0 my-0"},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})):$("",!0)]),_:1},512)]),_:1}),s(Ke,null,{default:y(()=>[s(Xe),s(Z,{color:"primary",text:"Save",variant:"tonal",onClick:h}),s(Z,{color:"primary",text:"Cancel",variant:"tonal",onClick:f})]),_:1})]),_:1}))]),_:1},8,["modelValue"])],64))}},Va=Object.freeze(Object.defineProperty({__proto__:null,default:va},Symbol.toStringTag,{value:"Module"}));export{Va as U,ua as V,va as _,ee as a};
