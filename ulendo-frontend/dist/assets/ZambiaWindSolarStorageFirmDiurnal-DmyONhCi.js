import{m as he,_ as Ae,a as $,f as V}from"./PresentationPage-CuuWGzvw.js";import{g as ve,m as Be,s as De,a as ye,b as Re,w as We,d as Pe,c as qe}from"./windCalmonthlyHours-DPBlVMXJ.js";import{a as S,V as ge}from"./VRow-CyXPGgsZ.js";import{I as le,O as Le,N as Ee,q as c,bv as be,X as ue,a2 as O,_ as ke,r as ie,a1 as Oe,aZ as He,aB as Fe,L as _e,T as de,aj as Ie,n as G,an as $e,bf as Je,a3 as me,aJ as K,a as i,as as we,at as Ue,bw as je,ax as Ke,a5 as Ze,ao as Xe,b5 as Se,bx as Ge,bg as Qe,U as ea,bh as aa,bi as xe,F as ta,be as oa,a4 as ia,Z as la,c as se,w as m,o as ce,B as T,e as J,bt as R,b9 as v,bu as U,t as j,l as Ne}from"./index-C5j300nO.js";import"./VContainer-DPYyTAlg.js";const ra=[{hour:0,capFactor:.5608928509343748,dailySpecificYield:"NaN"},{hour:1,capFactor:.5488527379400261,dailySpecificYield:"NaN"},{hour:2,capFactor:.5389465449804423,dailySpecificYield:"NaN"},{hour:3,capFactor:.5309648993191368,dailySpecificYield:"NaN"},{hour:4,capFactor:.5057498044328559,dailySpecificYield:"NaN"},{hour:5,capFactor:.4287949152542358,dailySpecificYield:"NaN"},{hour:6,capFactor:.3500957627118644,dailySpecificYield:"NaN"},{hour:7,capFactor:.29659955816311645,dailySpecificYield:"NaN"},{hour:8,capFactor:.2305323120382445,dailySpecificYield:"NaN"},{hour:9,capFactor:.17499567579313374,dailySpecificYield:"NaN"},{hour:10,capFactor:.14405263653484054,dailySpecificYield:"NaN"},{hour:11,capFactor:.13911522526437822,dailySpecificYield:"NaN"},{hour:12,capFactor:.15796904244531368,dailySpecificYield:"NaN"},{hour:13,capFactor:.20643882369984,dailySpecificYield:"NaN"},{hour:14,capFactor:.28863384760249094,dailySpecificYield:"NaN"},{hour:15,capFactor:.40535133275387464,dailySpecificYield:"NaN"},{hour:16,capFactor:.521744618281907,dailySpecificYield:"NaN"},{hour:17,capFactor:.5816522164276398,dailySpecificYield:"NaN"},{hour:18,capFactor:.6009250325945265,dailySpecificYield:"NaN"},{hour:19,capFactor:.6033465884398115,dailySpecificYield:"NaN"},{hour:20,capFactor:.5978035781544268,dailySpecificYield:"NaN"},{hour:21,capFactor:.5899288425322339,dailySpecificYield:"NaN"},{hour:22,capFactor:.5807799362595965,dailySpecificYield:"NaN"},{hour:23,capFactor:.576702433724466,dailySpecificYield:"NaN"}],na=[{hour:0,capFactor:0,dailySpecificYield:"NaN"},{hour:1,capFactor:0,dailySpecificYield:"NaN"},{hour:2,capFactor:0,dailySpecificYield:"NaN"},{hour:3,capFactor:0,dailySpecificYield:"NaN"},{hour:4,capFactor:0,dailySpecificYield:"NaN"},{hour:5,capFactor:1804254620123203e-20,dailySpecificYield:"NaN"},{hour:6,capFactor:.06715526593996256,dailySpecificYield:"NaN"},{hour:7,capFactor:.43607465468661366,dailySpecificYield:"NaN"},{hour:8,capFactor:.7664110672142361,dailySpecificYield:"NaN"},{hour:9,capFactor:.8718501228512784,dailySpecificYield:"NaN"},{hour:10,capFactor:.9124029005573436,dailySpecificYield:"NaN"},{hour:11,capFactor:.9224210798865747,dailySpecificYield:"NaN"},{hour:12,capFactor:.9107091346435895,dailySpecificYield:"NaN"},{hour:13,capFactor:.8924593210130017,dailySpecificYield:"NaN"},{hour:14,capFactor:.8573016693067376,dailySpecificYield:"NaN"},{hour:15,capFactor:.7898663249437755,dailySpecificYield:"NaN"},{hour:16,capFactor:.6695288774029495,dailySpecificYield:"NaN"},{hour:17,capFactor:.3195804894878259,dailySpecificYield:"NaN"},{hour:18,capFactor:.029496763358560656,dailySpecificYield:"NaN"},{hour:19,capFactor:0,dailySpecificYield:"NaN"},{hour:20,capFactor:0,dailySpecificYield:"NaN"},{hour:21,capFactor:0,dailySpecificYield:"NaN"},{hour:22,capFactor:0,dailySpecificYield:"NaN"},{hour:23,capFactor:0,dailySpecificYield:"NaN"}],pe=Symbol.for("vuetify:v-slider");function sa(e,t,s){const h=s==="vertical",u=t.getBoundingClientRect(),N="touches"in e?e.touches[0]:e;return h?N.clientY-(u.top+u.height/2):N.clientX-(u.left+u.width/2)}function ca(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const ua=le({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Le(),...Ee({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),da=e=>{const t=c(()=>parseFloat(e.min)),s=c(()=>parseFloat(e.max)),h=c(()=>+e.step>0?parseFloat(e.step):0),u=c(()=>Math.max(be(h.value),be(t.value)));function N(x){if(x=parseFloat(x),h.value<=0)return x;const b=Fe(x,t.value,s.value),g=t.value%h.value,_=Math.round((b-g)/h.value)*h.value+g;return parseFloat(Math.min(_,s.value).toFixed(u.value))}return{min:t,max:s,step:h,decimals:u,roundValue:N}},ma=e=>{let{props:t,steps:s,onSliderStart:h,onSliderMove:u,onSliderEnd:N,getActiveThumb:x}=e;const{isRtl:b}=ue(),g=O(t,"reverse"),_=c(()=>t.direction==="vertical"),f=c(()=>_.value!==g.value),{min:p,max:M,step:z,decimals:L,roundValue:W}=s,E=c(()=>parseInt(t.thumbSize,10)),P=c(()=>parseInt(t.tickSize,10)),q=c(()=>parseInt(t.trackSize,10)),A=c(()=>(M.value-p.value)/z.value),l=O(t,"disabled"),o=c(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),a=c(()=>t.error||t.disabled?void 0:t.trackColor??t.color),r=c(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),d=ke(!1),F=ke(0),B=ie(),D=ie();function y(n){var fe;const w=t.direction==="vertical",Ce=w?"top":"left",Ve=w?"height":"width",Me=w?"clientY":"clientX",{[Ce]:Ye,[Ve]:Te}=(fe=B.value)==null?void 0:fe.$el.getBoundingClientRect(),ze=ca(n,Me);let ne=Math.min(Math.max((ze-Ye-F.value)/Te,0),1)||0;return(w?f.value:f.value!==b.value)&&(ne=1-ne),W(p.value+ne*(M.value-p.value))}const H=n=>{N({value:y(n)}),d.value=!1,F.value=0},I=n=>{D.value=x(n),D.value&&(D.value.focus(),d.value=!0,D.value.contains(n.target)?F.value=sa(n,D.value,t.direction):(F.value=0,u({value:y(n)})),h({value:y(n)}))},Y={passive:!0,capture:!0};function Z(n){u({value:y(n)})}function ee(n){n.stopPropagation(),n.preventDefault(),H(n),window.removeEventListener("mousemove",Z,Y),window.removeEventListener("mouseup",ee)}function ae(n){var w;H(n),window.removeEventListener("touchmove",Z,Y),(w=n.target)==null||w.removeEventListener("touchend",ae)}function re(n){var w;I(n),window.addEventListener("touchmove",Z,Y),(w=n.target)==null||w.addEventListener("touchend",ae,{passive:!1})}function C(n){n.preventDefault(),I(n),window.addEventListener("mousemove",Z,Y),window.addEventListener("mouseup",ee,{passive:!1})}const k=n=>{const w=(n-p.value)/(M.value-p.value)*100;return Fe(isNaN(w)?0:w,0,100)},X=O(t,"showTicks"),Q=c(()=>X.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(n=>({value:n,position:k(n),label:n.toString()})):Object.keys(t.ticks).map(n=>({value:parseFloat(n),position:k(parseFloat(n)),label:t.ticks[n]})):A.value!==1/0?Oe(A.value+1).map(n=>{const w=p.value+n*z.value;return{value:w,position:k(w)}}):[]:[]),te=c(()=>Q.value.some(n=>{let{label:w}=n;return!!w})),oe={activeThumbRef:D,color:O(t,"color"),decimals:L,disabled:l,direction:O(t,"direction"),elevation:O(t,"elevation"),hasLabels:te,isReversed:g,indexFromEnd:f,min:p,max:M,mousePressed:d,numTicks:A,onSliderMousedown:C,onSliderTouchstart:re,parsedTicks:Q,parseMouseMove:y,position:k,readonly:O(t,"readonly"),rounded:O(t,"rounded"),roundValue:W,showTicks:X,startOffset:F,step:z,thumbSize:E,thumbColor:o,thumbLabel:O(t,"thumbLabel"),ticks:O(t,"ticks"),tickSize:P,trackColor:a,trackContainerRef:B,trackFillColor:r,trackSize:q,vertical:_};return He(pe,oe),oe},pa=le({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,..._e()},"VSliderThumb"),fa=de()({name:"VSliderThumb",directives:{Ripple:Ie},props:pa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:s,emit:h}=t;const u=G(pe),{isRtl:N,rtlClasses:x}=ue();if(!u)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:b,step:g,disabled:_,thumbSize:f,thumbLabel:p,direction:M,isReversed:z,vertical:L,readonly:W,elevation:E,mousePressed:P,decimals:q,indexFromEnd:A}=u,l=c(()=>_.value?void 0:E.value),{elevationClasses:o}=$e(l),{textColorClasses:a,textColorStyles:r}=Je(b),{pageup:d,pagedown:F,end:B,home:D,left:y,right:H,down:I,up:Y}=Ze,Z=[d,F,B,D,y,H,I,Y],ee=c(()=>g.value?[1,2,3]:[1,5,10]);function ae(C,k){if(!Z.includes(C.key))return;C.preventDefault();const X=g.value||.1,Q=(e.max-e.min)/X;if([y,H,I,Y].includes(C.key)){const oe=(L.value?[N.value?y:H,z.value?I:Y]:A.value!==N.value?[y,Y]:[H,Y]).includes(C.key)?1:-1,n=C.shiftKey?2:C.ctrlKey?1:0;k=k+oe*X*ee.value[n]}else if(C.key===D)k=e.min;else if(C.key===B)k=e.max;else{const te=C.key===F?1:-1;k=k-te*X*(Q>100?Q/10:10)}return Math.max(e.min,Math.min(e.max,k))}function re(C){const k=ae(C,e.modelValue);k!=null&&h("update:modelValue",k)}return me(()=>{const C=K(A.value?100-e.position:e.position,"%");return i("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&P.value},e.class,x.value],style:[{"--v-slider-thumb-position":C,"--v-slider-thumb-size":K(f.value)},e.style],role:"slider",tabindex:_.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!W.value,"aria-orientation":M.value,onKeydown:W.value?void 0:re},[i("div",{class:["v-slider-thumb__surface",a.value,o.value],style:{...r.value}},null),we(i("div",{class:["v-slider-thumb__ripple",a.value],style:r.value},null),[[Ue("ripple"),e.ripple,null,{circle:!0,center:!0}]]),i(je,{origin:"bottom center"},{default:()=>{var k;return[we(i("div",{class:"v-slider-thumb__label-container"},[i("div",{class:["v-slider-thumb__label"]},[i("div",null,[((k=s["thumb-label"])==null?void 0:k.call(s,{modelValue:e.modelValue}))??e.modelValue.toFixed(g.value?q.value:1)])])]),[[Ke,p.value&&e.focused||p.value==="always"]])]}})])}),{}}}),ha=le({start:{type:Number,required:!0},stop:{type:Number,required:!0},..._e()},"VSliderTrack"),va=de()({name:"VSliderTrack",props:ha(),emits:{},setup(e,t){let{slots:s}=t;const h=G(pe);if(!h)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:u,parsedTicks:N,rounded:x,showTicks:b,tickSize:g,trackColor:_,trackFillColor:f,trackSize:p,vertical:M,min:z,max:L,indexFromEnd:W}=h,{roundedClasses:E}=Xe(x),{backgroundColorClasses:P,backgroundColorStyles:q}=Se(f),{backgroundColorClasses:A,backgroundColorStyles:l}=Se(_),o=c(()=>`inset-${M.value?"block":"inline"}-${W.value?"end":"start"}`),a=c(()=>M.value?"height":"width"),r=c(()=>({[o.value]:"0%",[a.value]:"100%"})),d=c(()=>e.stop-e.start),F=c(()=>({[o.value]:K(e.start,"%"),[a.value]:K(d.value,"%")})),B=c(()=>b.value?(M.value?N.value.slice().reverse():N.value).map((y,H)=>{var Y;const I=y.value!==z.value&&y.value!==L.value?K(y.position,"%"):void 0;return i("div",{key:y.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":y.position>=e.start&&y.position<=e.stop,"v-slider-track__tick--first":y.value===z.value,"v-slider-track__tick--last":y.value===L.value}],style:{[o.value]:I}},[(y.label||s["tick-label"])&&i("div",{class:"v-slider-track__tick-label"},[((Y=s["tick-label"])==null?void 0:Y.call(s,{tick:y,index:H}))??y.label])])}):[]);return me(()=>i("div",{class:["v-slider-track",E.value,e.class],style:[{"--v-slider-track-size":K(p.value),"--v-slider-tick-size":K(g.value)},e.style]},[i("div",{class:["v-slider-track__background",A.value,{"v-slider-track__background--opacity":!!u.value||!f.value}],style:{...r.value,...l.value}},null),i("div",{class:["v-slider-track__fill",P.value],style:{...F.value,...q.value}},null),b.value&&i("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":b.value==="always"}]},[B.value])])),{}}}),ya=le({...Ge(),...ua(),...Qe(),modelValue:{type:[Number,String],default:0}},"VSlider"),ga=de()({name:"VSlider",props:ya(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:s,emit:h}=t;const u=ie(),{rtlClasses:N}=ue(),x=da(e),b=ea(e,"modelValue",void 0,a=>x.roundValue(a??x.min.value)),{min:g,max:_,mousePressed:f,roundValue:p,onSliderMousedown:M,onSliderTouchstart:z,trackContainerRef:L,position:W,hasLabels:E,readonly:P}=ma({props:e,steps:x,onSliderStart:()=>{h("start",b.value)},onSliderEnd:a=>{let{value:r}=a;const d=p(r);b.value=d,h("end",d)},onSliderMove:a=>{let{value:r}=a;return b.value=p(r)},getActiveThumb:()=>{var a;return(a=u.value)==null?void 0:a.$el}}),{isFocused:q,focus:A,blur:l}=aa(e),o=c(()=>W(b.value));return me(()=>{const a=xe.filterProps(e),r=!!(e.label||s.label||s.prepend);return i(xe,ia({class:["v-slider",{"v-slider--has-labels":!!s["tick-label"]||E.value,"v-slider--focused":q.value,"v-slider--pressed":f.value,"v-slider--disabled":e.disabled},N.value,e.class],style:e.style},a,{focused:q.value}),{...s,prepend:r?d=>{var F,B;return i(ta,null,[((F=s.label)==null?void 0:F.call(s,d))??(e.label?i(oa,{id:d.id.value,class:"v-slider__label",text:e.label},null):void 0),(B=s.prepend)==null?void 0:B.call(s,d)])}:void 0,default:d=>{let{id:F,messagesId:B}=d;return i("div",{class:"v-slider__container",onMousedown:P.value?void 0:M,onTouchstartPassive:P.value?void 0:z},[i("input",{id:F.value,name:e.name||F.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:b.value},null),i(va,{ref:L,start:0,stop:o.value},{"tick-label":s["tick-label"]}),i(fa,{ref:u,"aria-describedby":B.value,focused:q.value,min:g.value,max:_.value,modelValue:b.value,"onUpdate:modelValue":D=>b.value=D,position:o.value,elevation:e.elevation,onFocus:A,onBlur:l,ripple:e.ripple,name:e.name},{"thumb-label":s["thumb-label"]})])}})}),{}}}),Na={__name:"ZambiaWindSolarStorageFirmDiurnal",setup(e){const{smAndUp:t}=la(),s=G("font"),h=G("months"),u=G("colors"),N=G("makeTrans"),x=ve(Re,l=>l.month).map(l=>l[1]),b=ve(We,l=>l.month).map(l=>l[1]),g=ie(39),_=c(()=>g.value/99),f=(()=>{let l=100,o=[...Array(l).keys()].map(a=>({ratio:1/(l-1)*a}));return o.map(a=>(a.combined_cfs=[...Array(12).keys()].map(r=>[...Array(24).keys()].map(d=>(x[r][d].meanHourlyCapFactor*a.ratio+b[r][d].meanHourlyCapFactor)/(1+a.ratio))),a.monthly_av_cfs=[...Array(12).keys()].map(r=>Be(a.combined_cfs[r])),a.monthly_store=[...Array(12).keys()].map(r=>De(a.combined_cfs[r].map(d=>d>a.monthly_av_cfs[r]?d-a.monthly_av_cfs[r]:0))),a.store_hours=[...Array(12).keys()].map(r=>a.combined_cfs[r].filter(d=>d>a.monthly_av_cfs[r]).length),a.store_max=he(a.monthly_store),a.store_range=he(a.monthly_store)-ye(a.monthly_store),a)),o})(),p=f.filter(l=>l.store_max==ye(f.map(o=>o.store_max)))[0],M=c(()=>{var l=[{y:ra.map(a=>a.capFactor),x:[...Array(24).keys()].map(a=>a+1),name:"Wind",mode:"lines",line:{shape:"spline",width:2.5,color:u.wind[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"},{y:na.map(a=>a.capFactor),x:[...Array(24).keys()].map(a=>a+1),name:"Solar",mode:"lines",line:{shape:"spline",width:2.5,color:u.solar[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"}],o={height:230,font:s,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:80,r:5,b:30,t:0},xaxis:{showgrid:!1,zeroline:!1,ticks:"outside",dtick:2},yaxis:{title:"Average hourly <br>output",showgrid:!0,zeroline:!1,tickformat:",.0%",ticks:"outside",range:[-.02,1.05],dtick:.2}};return{data:l,layout:o,config:{displayModeBar:!1}}}),z=c(()=>{var l=[{y:Pe.map(a=>a.meanDailyCapFactor),x:[...Array(12).keys()].map(a=>a+1),name:"Wind",mode:"lines",line:{shape:"spline",width:2.5,color:u.wind[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"},{y:qe.map(a=>a.meanDailyCapFactor),x:[...Array(12).keys()].map(a=>a+1),name:"Solar",mode:"lines",line:{shape:"spline",width:2.5,color:u.solar[1]},type:"scatter",showlegend:!0,hoverinfo:"x+y",textposition:"top-center"}],o={height:230,font:s,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:80,r:5,b:30,t:0},xaxis:{tickvals:[1,2,3,4,5,6,7,8,9,10,11,12],ticktext:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showgrid:!1,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Average daily <br>output",showgrid:!0,zeroline:!1,tickformat:",.0%",ticks:"outside",range:[0,1],dtick:.2}};return{data:l,layout:o,config:{displayModeBar:!1}}}),L=c(()=>{var l=b.map((a,r)=>({y:a.map(d=>d.meanHourlyCapFactor),x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:u.wind[r],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!1,name:"Wind "+h[r]}));l=l.concat(x.map((a,r)=>({y:a.map(d=>d.meanHourlyCapFactor),x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:u.solar[r],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!1,name:"Solar "+h[r]})));var o={height:290,font:s,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:70,r:5,b:45,t:0},xaxis:{title:"Hour",showgrid:!0,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Output",showgrid:!0,zeroline:!1,tickformat:"0%",ticks:"outside"}};return{data:l,layout:o,config:{displayModeBar:!1}}}),W=c(()=>{var l=[{y:f[10].combined_cfs[5],x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:u.combined[1],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:`${V(".2f")(f[10].ratio)}MW solar per MW wind`},{y:p.combined_cfs[5],x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:u.combined[4],width:4},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:`${V(".2f")(p.ratio)}MW solar per MW wind`},{y:f[90].combined_cfs[5],x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:u.combined[10],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:`${V(".2f")(f[90].ratio)}MW solar per MW wind`}],o={height:270,font:s,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:70,r:5,b:45,t:0},xaxis:{title:"Hour",showgrid:!0,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Output",showgrid:!0,zeroline:!1,tickformat:"0%",ticks:"outside",range:[0,1]}};return{data:l,layout:o,config:{displayModeBar:!1}}}),E=c(()=>{var l=f[g.value].combined_cfs,o=l.map((r,d)=>({y:r,x:[...Array(24).keys()],mode:"lines",line:{shape:"spline",color:u.combined[d],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!0,name:h[d]})),a={height:270,font:s,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:70,r:5,b:45,t:0},xaxis:{title:"Hour",showgrid:!0,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Output",showgrid:!0,zeroline:!1,tickformat:".0%",ticks:"outside",range:[0,1]}};return{data:o,layout:a,config:{displayModeBar:!1}}}),P=c(()=>{var l=f[g.value],o=[{x:[...Array(12).keys()].map(r=>r+1),y:l.monthly_store,name:"",text:l.monthly_store.map(r=>V(".2f")(r)),type:"bar",mode:"markers+text",hoverinfo:"none",stackgroup:"one",showlegend:!1,marker:{color:N(u.combined[5],.6)},textposition:"inside"}],a={height:270,font:s,hovermode:"closest",barmode:"stack",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:50,r:5,b:30,t:0},xaxis:{tickvals:[1,2,3,4,5,6,7,8,9,10,11,12],ticktext:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],showgrid:!1,zeroline:!1,ticks:"outside",dtick:1},yaxis:{title:"Hours",dtick:.2,showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside",range:[0,1.75]}};return{data:o,layout:a,config:{displayModeBar:!1}}}),q=c(()=>{var l=[{y:f.map(a=>a.store_range),x:f.map(a=>a.ratio),mode:"lines",textposition:"top",line:{shape:"spline",color:u.storage[2],width:4},marker:{size:5},type:"scatter",showlegend:!1,name:""}];l=l.concat([{y:[p.store_range],x:[p.ratio],text:[V(".2f")(p.ratio)],name:"Optimum ratio",textposition:"top-center",showlegend:!1,mode:"markers+text",type:"scatter",hoverinfo:"none",marker:{size:15,color:"black"}}]);var o={height:220,font:s,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:50,r:5,b:45,t:0},xaxis:{title:"Ratio solar : wind capacity",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"},yaxis:{title:"Range, Hours",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"}};return{data:l,layout:o,config:{displayModeBar:!1}}}),A=c(()=>{var l=[...Array(12).keys()].map(a=>({y:f.map(r=>r.monthly_store[a]),x:f.map(r=>r.ratio),mode:"lines",line:{shape:"spline",color:u.storage[a],width:2},fill:"",type:"scatter",hoverinfo:"name",showlegend:!1,name:h[a]}));l=l.concat([{y:f.map(a=>a.store_max),x:f.map(a=>a.ratio),text:f.map(a=>V(".2f")(a.store_max)),name:"Storage requirement",mode:"lines",type:"scatter",hoverinfo:"x+text",line:{shape:"spline",width:2.5,color:"red"}}]),l=l.concat([{y:[p.store_max],x:[p.ratio],text:[V(".2f")(p.ratio)+","+V(".1f")(p.store_max)],name:"Optimum ratio",textposition:"top-center",showlegend:!1,mode:"markers+text",type:"scatter",hoverinfo:"none",marker:{size:15,color:"black"}}]),l=l.concat([{x:[f[g.value].ratio,f[g.value].ratio],y:[0,2.2],showlegend:!1,mode:"lines",line:{width:1,color:"#555"}}]);var o={height:270,font:s,hovermode:"closest",showlegend:!0,legend:{orientation:"h",xanchor:"left",x:0,y:1.1},margin:{l:50,r:5,b:50,t:0},xaxis:{title:"Ratio solar : wind capacity",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"},yaxis:{title:"Hours",showgrid:!0,zeroline:!1,tickformat:".1f",ticks:"outside"}};return{data:l,layout:o,config:{displayModeBar:!1}}});return(l,o)=>(ce(),se(Ae,null,{default:m(()=>[i(ge,{class:R(v(t)?"pa-5":"ma-0 pa-0")},{default:m(()=>[i(S,{cols:"12"},{default:m(()=>o[1]||(o[1]=[T("h1",null,"Diurnal firm power from Wind and Solar with Storage in Zambia",-1),J(" Solar PV and to a lesser extent wind power both exhibit a strong diurnal production profile. Solar PV has zero output during the night and conversely wind speeds are, on average, higher during the night. This makes the combination of wind and solar with storage a very attractive option for providing firm power. ")])),_:1}),i(S,{class:R(v(t)?"":"px-0"),cols:"12",md:"6"},{default:m(()=>[i(U,{class:R(v(t)?"border mr-2 pr-2":"border ma-0 pa-0")},{default:m(()=>[i($,{definition:M.value},null,8,["definition"]),o[2]||(o[2]=T("figcaption",null,"Average hourly output for wind and solar in Zambia.",-1))]),_:1},8,["class"])]),_:1},8,["class"]),i(S,{class:R(v(t)?"":"px-0"),cols:"12",md:"6"},{default:m(()=>[i(U,{class:R(v(t)?"border ml-2 pl-2":"border ma-0 pa-0")},{default:m(()=>[i($,{definition:z.value},null,8,["definition"]),o[3]||(o[3]=T("figcaption",null,"Average monthly output for wind and solar in Zambia.",-1))]),_:1},8,["class"])]),_:1},8,["class"]),i(S,{class:R(v(t)?"":"px-0"),cols:"12",sm:"12",md:"9"},{default:m(()=>[i(U,{class:"border ma-0 pa-0"},{default:m(()=>[i($,{definition:L.value},null,8,["definition"]),o[4]||(o[4]=T("figcaption",null,"Average hourly output by month for wind (blues) and solar (yellows).",-1))]),_:1})]),_:1},8,["class"]),i(S,{cols:"12"},{default:m(()=>o[5]||(o[5]=[J(" Because of these complimentary daily production profiles, combining the output of the two plants produces a much smoother diurnal power profile. Due to the seasonal nature of the output of the wind plant the effect of mixing the output of the two projects changes through the year. ")])),_:1}),i(S,{class:R(v(t)?"":"px-0"),cols:"12",sm:"12",md:"9"},{default:m(()=>[i(U,{class:"border ma-0 pa-0"},{default:m(()=>[i($,{definition:W.value},null,8,["definition"]),o[6]||(o[6]=T("figcaption",null,"Average output in June for a combined plant with various proportions of wind and solar capacity.",-1))]),_:1})]),_:1},8,["class"]),i(S,{cols:"12"},{default:m(()=>o[7]||(o[7]=[J(" The shape of the daily production profiles for the combined plant depend on the proportion of capacity provided by the two plants. The daily production profile for the combined plants will never be entirely flat. ")])),_:1}),i(S,{cols:"12"},{default:m(()=>[i(ge,{class:"no-gutters"},{default:m(()=>[i(S,{cols:"12",sm:"3",md:"2"},{default:m(()=>o[8]||(o[8]=[T("span",{class:"text-body-1"},[T("b",null,"Solar to wind capacity ratio: ")],-1)])),_:1}),i(S,{cols:"12",sm:"6",md:"4"},{default:m(()=>[i(ga,{modelValue:g.value,"onUpdate:modelValue":o[0]||(o[0]=a=>g.value=a),max:99,min:0,step:1,class:"align-center","hide-details":""},{append:m(()=>[T("span",null,[T("b",null,j(v(V)(".2f")(_.value)),1),o[9]||(o[9]=J(" MW Solar PV : MW Wind"))])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),i(S,{cols:"12"},{default:m(()=>o[10]||(o[10]=[J(" To produce completely consistent output, intraday storage capacity needs to be added to the system. This could be in the form of batteries or using hydro power reservoirs. The storage need not be co-located with either the wind or solar plants and if it was provided by hydro reservoirs then it almost certainly would not. There would be beneftis for co-locating storage with either the wind or solar plants (or both) including shared O&M resources, grid access and reduced transmission losses and costs. ")])),_:1}),i(S,{class:R(v(t)?"":"px-0"),cols:"12",md:"6"},{default:m(()=>[i(U,{class:R(v(t)?"border mr-2 pr-2":"border ma-0 pa-0")},{default:m(()=>[E.value?(ce(),se($,{key:0,definition:E.value},null,8,["definition"])):Ne("",!0),T("figcaption",null," Diurnal output by month for a combined plant with "+j(v(V)(".2f")(_.value))+"MW solar per MW wind. ",1)]),_:1},8,["class"])]),_:1},8,["class"]),i(S,{class:R(v(t)?"":"px-0"),cols:"12",md:"6"},{default:m(()=>[i(U,{class:"border ma-0 pa-0"},{default:m(()=>[P.value?(ce(),se($,{key:0,definition:P.value},null,8,["definition"])):Ne("",!0),T("figcaption",null," Daily storage required in hours by month to entirely flatten the average diurnal output of a combined plant with "+j(v(V)(".2f")(_.value))+"MW solar per MW wind. ",1)]),_:1})]),_:1},8,["class"]),i(S,{cols:"12"},{default:m(()=>o[11]||(o[11]=[J(" The amount of storage required to completely flatten the daily output of the combined plant depends on the relative proportion of capacity for the wind and solar plants and the month. Greater storage capacity is particularly needed in months where the wind plant has a higher diurnal range of output. ")])),_:1}),i(S,{cols:"12"},{default:m(()=>o[12]||(o[12]=[J(" To entirely flatten the dirunal output in every month then the storage capacity (in hours) must be sized for the month with the greatest storage requirement. For plant ratios with a high range in monthly storage requirement (between the month with the highest storage requirement and the month with the lowest) the storage will either be insufficient in some months or underutilised in some month. Both situations lead to inefficieny. ")])),_:1}),i(S,{class:R(v(t)?"":"px-0"),cols:"12",sm:"9",md:"6"},{default:m(()=>[i(U,{class:"border ma-0 pa-0"},{default:m(()=>[i($,{definition:q.value},null,8,["definition"]),o[13]||(o[13]=T("figcaption",null,"Range (maximum month to minimum month) of storage requirement to flatten the diurnal output of the combined plant by ratio of solar to wind capacity.",-1))]),_:1})]),_:1},8,["class"]),i(S,{class:R(v(t)?"":"px-0"),cols:"12",sm:"9",md:"6"},{default:m(()=>[i(U,{class:"border ma-0 pa-0"},{default:m(()=>[i($,{definition:A.value},null,8,["definition"]),T("figcaption",null,"Daily storage requirement by month and ratio of solar to wind capacity to flatten the diurnal for a combined plant. Maximum storage requirement for the year in red. Optimum ratio is "+j(v(V)(".2f")(v(p).ratio))+"MW solar per MW wind with "+j(v(V)(".1f")(v(p).store_max))+" hours of storage.",1)]),_:1})]),_:1},8,["class"]),i(S,{cols:"12"},{default:m(()=>[J(" The ratio of solar capacity to wind capacity that minimises the relative storage requirement (in hours) can be determined by plotting the storage required to completely flatten the diurnal output of the combined plant for a range of capacity ratios for each month. For the Unika and Ilute plants this shows that "+j(v(V)(".2f")(v(p).ratio))+"MW of solar per MW of wind capacity minimises the storage requirement at "+j(v(V)(".1f")(v(p).store_max))+" hours to flatten the average diurnal output. ",1)]),_:1})]),_:1},8,["class"])]),_:1}))}};export{Na as default};
